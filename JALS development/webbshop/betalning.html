<!doctype html>

	<html lang="sv">

		<head>
			<!--Vilken teckenkodning som används-->
			<meta charset="utf-8">
			<!--Namn på sidan vilken syns i webbläsaren-->
			<title>Webbshop - JALS Development</title>
			<!--Beskrivning av sidan-->
			<meta name="description" content="Det här är betalningssidan i JALS Developments webbshop där du fyller i dina personuppgifter och genomför din betalning.">
			<!--Länkar till Google fonts som ska användas-->
			<link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
			<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
			<link href="https://fonts.googleapis.com/css?family=Open+Sans:600" rel="stylesheet">
			<!--Länk till den stilmall i css som talar om hur innehållet ska formateras och presenteras. Andra länken är för utskrift. -->
			<link rel="stylesheet" type="text/css" href="../stil.css" media="screen" />
			<link rel="stylesheet" type="text/css" href="../stil_utskrift.css" media="print" />

			<!--JavaScript för hantering av kontroll av formulär-->
			<script type="text/javascript">

			//Huvudfunktion för att kontrollera att all input för kontaktformuläret är korrekt ifyllt.
				function Check_Input(){

					//Variabler för alla inputvärden.
					var personNumber = document.forms["payform"]["personNumber"].value;
					var firstname = document.forms["payform"]["firstname"].value;
					var lastname = document.forms["payform"]["lastname"].value;
					var adress = document.forms["payform"]["adress"].value;
					var postNumber = document.forms["payform"]["postNumber"].value;
					var city = document.forms["payform"]["city"].value;
					var email = document.forms["payform"]["email"].value;
					var mobile = document.forms["payform"]["mobile"].value;

					//variabler för mönster
					var pattern_personNumber = new RegExp("[0-9]{8}-[0-9]{4}");
					var pattern_postNumber = new RegExp("[0-9]{3}\s?[0-9]{2}");
					var pattern_mobile = new RegExp("^[0]{1}[7]{1}[0-9]{8}$");


					//Variabel för att hålla reda på om någon input är felaktig.
					var incorrect_input = false;

					//Kontroll av personnummer
					if (IsEmpty(personNumber) || pattern_personNumber.test(personNumber) == false) {
        				document.forms["payform"]["personNumber"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["personNumber"].style.backgroundColor = "#99FF66";
    				}

    				//Kontroll av förnamn
					if (IsEmpty(firstname) || isNaN(firstname) == false) {
        				document.forms["payform"]["firstname"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["firstname"].style.backgroundColor = "#99FF66";
    				}

    				//Kontroll av efternamn
    				if (IsEmpty(lastname) || isNaN(lastname) == false) {
    					document.forms["payform"]["lastname"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["lastname"].style.backgroundColor = "#99FF66";

    				}

    				//Kontroll av adress
    				if (IsEmpty(adress)) {
    					document.forms["payform"]["adress"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["adress"].style.backgroundColor = "#99FF66";

    				}

    				//Kontroll av postnummer
    				if (IsEmpty(postNumber) || pattern_postNumber.test(postNumber) == false) {
    					document.forms["payform"]["postNumber"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["postNumber"].style.backgroundColor = "#99FF66";
    				}

    				//Kontroll av ort
    				if (IsEmpty(city) || isNaN(city) == false) {
    					document.forms["payform"]["city"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["city"].style.backgroundColor = "#99FF66";

    				}

    				//Kontroll av email
    				if (IsEmpty(email) || IncorrectEmail(email)) {
    					document.forms["payform"]["email"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["email"].style.backgroundColor = "#99FF66";
    				}

    				//Kontroll av mobilnummer - tomt eller inte ett nummer
    				if (IsEmpty(mobile) || pattern_mobile.test(mobile) == false) {
    					document.forms["payform"]["mobile"].style.backgroundColor = "#FF5959";
        				incorrect_input = true;
    				}else{
    					document.forms["payform"]["mobile"].style.backgroundColor = "#99FF66";
    				}

    				if(incorrect_input){
    					alert("Alla fält är inte korrekt ifyllda! Vänligen fyll i alla uppgifter för att genomföra köpet.");
        				return false;
    				}
    				
				}//Slut funktion

				function IsEmpty(variabel){
					if(variabel == null || variabel == ""){
						return true;
					}else{
						return false;
					}
				}
				

				function IncorrectEmail(mail){
					var at_position=mail.indexOf("@");
    				var dot_position=mail.lastIndexOf(".");
     				if (at_position < 1 || dot_position < at_position + 2 || dot_position + 2 >= mail.length){
     					return true;
     				}else{
     					return false;
     				}
				}



			</script>

		</head>

		<body>

			<div id="pagewrapper">

				<!--Navigationsmeny topp-->
				<nav>
						<!--Navigationslista för huvudområden. När man håller musen över länken visas en informerande text. -->
						<ul>
							<li>
								<a  id="startsida" href="../startsida.html" title="Klicka här för att komma till startsidan!">Startsida</a>
							</li>

							<li>
								<a  id="vara_appar" href="../vara_appar.html" title="Klicka här för att läsa om våra appar!">Våra appar</a>
							</li>

							<li>
								<a  id="webbshop" href="webbshop_inlogg.html" title="Klicka här för att komma till webbshopen!">Webbshop</a>
							</li>

							<li>
								<a  id="om_foretaget" href="../foretaget/om_foretaget.html" title="Klicka här för information om företaget!">Om företaget</a>
							</li>

						</ul>

				</nav>

				<!--Header för sidan-->
				<header id="shop_header">
					<h1> JALS Development </h1>
				</header>

				<div>
					<!--Huvudsakliga innehållet/informationen på sidan-->
					<article id="shop_article">
						<!--Rubrik för sidan-->
						<h2>Webbshop</h2>

						<!--Knapp tillbaka till varukorgen-->
						<ul>
							<li>
								<a class="button" href="kontroll_varukorg.html" title="Klicka här för att gå tillbaka till varukorgen!">Tillbaka till varukorg</a>
							</li>
						</ul>

						<!--Betalningsuppgifter-->
						<section>

							<h3>Betalningsinformation</h3>
							
							<!--Formulär. -->
							<form id="payform" name="payform" onsubmit="return Check_Input()" action="bekraftelse.html" method="post">

								<div class="form_text">
									<label for="personNumber">Personnummer (ÅÅÅÅMMDD-XXXX) </label> 
									<input type="text" name="personNumber" id="personNumber">
								</div>

								<div class="form_text">
									<label for="firstname">Förnamn </label> 
									<input type="text" name="firstname" id="firstname">
								</div>

								<div class="form_text">
									<label for="lastname">Efternamn </label> 
									<input type="text" name="lastname" id="lastname">
								</div>

								<div class="form_text">
									<label for="adress">Adress </label> 
									<input type="text" name="adress" id="adress">
								</div>

								<div class="form_text">
									<label for="postNumber">Postnummer </label> 
									<input type="text" name="postNumber" id="postNumber">
								</div>

								<div class="form_text">
									<label for="city">Ort </label> 
									<input type="text" name="city" id="city">
								</div>

								<div class="form_text">
									<label for="email">Mejladress </label> 
									<input type="text" name="email" id="email">
								</div>

								<div class="form_text">
									<label for="mobile">Mobilnummer </label> 
									<input type="text" name="mobile" id="mobile">
								</div>

								<div class="form_text">
									<input type="submit" name="send_form" value="Genomför köp">
								</div>
							</form>

						</section>
						
					</article>

					<!--Sidoinnehåll i kanten för länkar till sociala medier och nyheter gällande företaget.-->
					<aside id="shop_aside">
						<section id="inloggningsuppgifter">
							<h4>Inloggad som:</h4>

							<p>Jenny Stenslund</p>
							
		
							<ul>
								<li>
									<a class="button" href="villkor.html" title="Klicka här för att läsa om villkor för köp, betalning och leverans!">Villkor</a>
								</li>
							</ul>
							
						</section>
						
					</aside>
				</div>

				<!--Sidfot-->
				<footer>
					<p>&#169;JALS Development</p>

					<p>Senast uppdaterad: 2016-10-15</p>
				</footer>

			</div> <!--Slut pagewrapper-->

		</body>

	</html>


